# **[Gold III] ì•„ê¸° ìƒì–´ - 16236**

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/16236)

### **ì„±ëŠ¥ ìš”ì•½**

ë©”ëª¨ë¦¬: 12632 KB, ì‹œê°„: 188 ms

### **ë¶„ë¥˜**

êµ¬í˜„, ê·¸ë˜í”„ ì´ë¡ , ê·¸ë˜í”„ íƒìƒ‰, ì‹œë®¬ë ˆì´ì…˜, ë„ˆë¹„ ìš°ì„  íƒìƒ‰

### **ì œì¶œ ì¼ì**

2025ë…„ 8ì›” 20ì¼ 15:08:23

### **ë¬¸ì œ ì„¤ëª…**

NÃ—N í¬ê¸°ì˜ ê³µê°„ì— ë¬¼ê³ ê¸° Më§ˆë¦¬ì™€ ì•„ê¸° ìƒì–´ 1ë§ˆë¦¬ê°€ ìˆë‹¤. ê³µê°„ì€ 1Ã—1 í¬ê¸°ì˜ ì •ì‚¬ê°í˜• ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. í•œ ì¹¸ì—ëŠ” ë¬¼ê³ ê¸°ê°€ ìµœëŒ€ 1ë§ˆë¦¬ ì¡´ì¬í•œë‹¤.

ì•„ê¸° ìƒì–´ì™€ ë¬¼ê³ ê¸°ëŠ” ëª¨ë‘ í¬ê¸°ë¥¼ ê°€ì§€ê³  ìˆê³ , ì´ í¬ê¸°ëŠ” ìì—°ìˆ˜ì´ë‹¤. ê°€ì¥ ì²˜ìŒì— ì•„ê¸° ìƒì–´ì˜ í¬ê¸°ëŠ” 2ì´ê³ , ì•„ê¸° ìƒì–´ëŠ” 1ì´ˆì— ìƒí•˜ì¢Œìš°ë¡œ ì¸ì ‘í•œ í•œ ì¹¸ì”© ì´ë™í•œë‹¤.

ì•„ê¸° ìƒì–´ëŠ” ìì‹ ì˜ í¬ê¸°ë³´ë‹¤ í° ë¬¼ê³ ê¸°ê°€ ìˆëŠ” ì¹¸ì€ ì§€ë‚˜ê°ˆ ìˆ˜ ì—†ê³ , ë‚˜ë¨¸ì§€ ì¹¸ì€ ëª¨ë‘ ì§€ë‚˜ê°ˆ ìˆ˜ ìˆë‹¤. ì•„ê¸° ìƒì–´ëŠ” ìì‹ ì˜ í¬ê¸°ë³´ë‹¤ ì‘ì€ ë¬¼ê³ ê¸°ë§Œ ë¨¹ì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, í¬ê¸°ê°€ ê°™ì€ ë¬¼ê³ ê¸°ëŠ” ë¨¹ì„ ìˆ˜ ì—†ì§€ë§Œ, ê·¸ ë¬¼ê³ ê¸°ê°€ ìˆëŠ” ì¹¸ì€ ì§€ë‚˜ê°ˆ ìˆ˜ ìˆë‹¤.

ì•„ê¸° ìƒì–´ê°€ ì–´ë””ë¡œ ì´ë™í• ì§€ ê²°ì •í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.

- ë” ì´ìƒ ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ê³µê°„ì— ì—†ë‹¤ë©´ ì•„ê¸° ìƒì–´ëŠ” ì—„ë§ˆ ìƒì–´ì—ê²Œ ë„ì›€ì„ ìš”ì²­í•œë‹¤.
- ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ 1ë§ˆë¦¬ë¼ë©´, ê·¸ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ìœ¼ëŸ¬ ê°„ë‹¤.
- ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ 1ë§ˆë¦¬ë³´ë‹¤ ë§ë‹¤ë©´, ê±°ë¦¬ê°€ ê°€ì¥ ê°€ê¹Œìš´ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ìœ¼ëŸ¬ ê°„ë‹¤.
  - ê±°ë¦¬ëŠ” ì•„ê¸° ìƒì–´ê°€ ìˆëŠ” ì¹¸ì—ì„œ ë¬¼ê³ ê¸°ê°€ ìˆëŠ” ì¹¸ìœ¼ë¡œ ì´ë™í•  ë•Œ, ì§€ë‚˜ì•¼í•˜ëŠ” ì¹¸ì˜ ê°œìˆ˜ì˜ ìµœì†Ÿê°’ì´ë‹¤.
  - ê±°ë¦¬ê°€ ê°€ê¹Œìš´ ë¬¼ê³ ê¸°ê°€ ë§ë‹¤ë©´, ê°€ì¥ ìœ„ì— ìˆëŠ” ë¬¼ê³ ê¸°, ê·¸ëŸ¬í•œ ë¬¼ê³ ê¸°ê°€ ì—¬ëŸ¬ë§ˆë¦¬ë¼ë©´, ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” ë¬¼ê³ ê¸°ë¥¼ ë¨¹ëŠ”ë‹¤.

ì•„ê¸° ìƒì–´ì˜ ì´ë™ì€ 1ì´ˆ ê±¸ë¦¬ê³ , ë¬¼ê³ ê¸°ë¥¼ ë¨¹ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì€ ì—†ë‹¤ê³  ê°€ì •í•œë‹¤. ì¦‰, ì•„ê¸° ìƒì–´ê°€ ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°ê°€ ìˆëŠ” ì¹¸ìœ¼ë¡œ ì´ë™í–ˆë‹¤ë©´, ì´ë™ê³¼ ë™ì‹œì— ë¬¼ê³ ê¸°ë¥¼ ë¨¹ëŠ”ë‹¤. ë¬¼ê³ ê¸°ë¥¼ ë¨¹ìœ¼ë©´, ê·¸ ì¹¸ì€ ë¹ˆ ì¹¸ì´ ëœë‹¤.

ì•„ê¸° ìƒì–´ëŠ” ìì‹ ì˜ í¬ê¸°ì™€ ê°™ì€ ìˆ˜ì˜ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ì„ ë•Œ ë§ˆë‹¤ í¬ê¸°ê°€ 1 ì¦ê°€í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í¬ê¸°ê°€ 2ì¸ ì•„ê¸° ìƒì–´ëŠ” ë¬¼ê³ ê¸°ë¥¼ 2ë§ˆë¦¬ ë¨¹ìœ¼ë©´ í¬ê¸°ê°€ 3ì´ ëœë‹¤.

ê³µê°„ì˜ ìƒíƒœê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì•„ê¸° ìƒì–´ê°€ ëª‡ ì´ˆ ë™ì•ˆ ì—„ë§ˆ ìƒì–´ì—ê²Œ ë„ì›€ì„ ìš”ì²­í•˜ì§€ ì•Šê³  ë¬¼ê³ ê¸°ë¥¼ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### **ì…ë ¥**

ì²«ì§¸ ì¤„ì— ê³µê°„ì˜ í¬ê¸° N(2 â‰¤ N â‰¤ 20)ì´ ì£¼ì–´ì§„ë‹¤.

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì— ê³µê°„ì˜ ìƒíƒœê°€ ì£¼ì–´ì§„ë‹¤. ê³µê°„ì˜ ìƒíƒœëŠ” 0, 1, 2, 3, 4, 5, 6, 9ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³ , ì•„ë˜ì™€ ê°™ì€ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.

- 0: ë¹ˆ ì¹¸
- 1, 2, 3, 4, 5, 6: ì¹¸ì— ìˆëŠ” ë¬¼ê³ ê¸°ì˜ í¬ê¸°
- 9: ì•„ê¸° ìƒì–´ì˜ ìœ„ì¹˜

ì•„ê¸° ìƒì–´ëŠ” ê³µê°„ì— í•œ ë§ˆë¦¬ ìˆë‹¤.

### **ì¶œë ¥**

ì²«ì§¸ ì¤„ì— ì•„ê¸° ìƒì–´ê°€ ì—„ë§ˆ ìƒì–´ì—ê²Œ ë„ì›€ì„ ìš”ì²­í•˜ì§€ ì•Šê³  ë¬¼ê³ ê¸°ë¥¼ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆëŠ” ì‹œê°„ì„ ì¶œë ¥í•œë‹¤.

# ë¶„ì„

## ë¡œì§ëŒ€ë¡œ ì˜ ë”°ë¼ê°”ë‹¤.

```tsx
/**
 *
 * 0. ë¨¹ì‡ê°ì´ ìˆëŠ”ì§€ë¶€í„° ì²´í¬,ì—†ìœ¼ë©´ ë°”ë¡œ ëë‚´ë©´ ëœë‹¤.
 * 1. ê°€ì¥ ê°€ê¹Œìš´ ë¨¹ì´ê°ì„ ì°¾ëŠ”ë‹¤.
 * 2. ì´ ê°€ê¹Œìš´ ê²ƒì´ë¼ëŠ” ìµœë‹¨ê±°ë¦¬
 * ì´ ìµœë‹¨ê±°ë¦¬ë¥¼ ...
 * ë¨¹ì´ ì°¾ê³  ê¸¸ì´ ê³„ì‚°, bfsë¡œ ìµœë‹¨ ê±°ë¦¬ë§ˆë‹¤ íì— ë„£ê³  ê³„ì‚°?
 * O(nn) + ê¸¸ì´ ê³„ì‚°O(nn) / ê¸¸ì´ ê³„ì‚°ë§ŒO(nn+e) ê²°êµ­ bfs ê³¼ì •ì´ í¬í•¨ë¨
 * 3. ë™ì ì ì²˜ë¦¬
 *
 */
```

- ê²°êµ­ bfsë¥¼ ì¨ì•¼í•¨ì„ ì¸ì§€
- bfsë¡œ ê°€ì•¼í•  ë…¸ë“œë¥¼ í•„í„°ë§í•˜ê³ , ë§Œì•½ ë¨¹ì‡ê°ì´ë©´ ë¨¹ì‡ê°ì— ë„£ê³  ìµœì ì˜ ë¨¹ì‡ê° ì°¾ê¸°

### BFS êµ¬í˜„ì€ í–ˆëŠ”ë°â€¦

- **ë””ë²„ê¹… í•˜ëŠë¼ ì‹œê°„ì´ ë‹¤ ê°”ë‹¤**
- programmer ê°™ì€ë°ì„œ ë””ë²„ê¹… í•˜ê¸°ë€ ì—„ì²­ ì–´ë µë‹¤.
- ë¹ ë¥´ê²Œ êµ¬í˜„í• ê²ƒë§Œ ì˜ í•˜ê¸°!!!

### ì˜¤ë˜ ê±¸ë¦¬ê²Œ ë§Œë“  ìš”ì¸

- **ë°©ë¬¸í•œ ë…¸ë“œ ì¤‘ë³µ ë°©ì§€**
  - visitedë¥¼ ì–¸ì œ ì´ˆê¸°í™” í•˜ê³  ì–¸ì œ visited trueë¡œ ë§Œë“œëŠëƒ
  - **enqueueí•  ë•Œ visitedë¥¼ í•œë‹¤**
  - ê·¸ë˜ì•¼ ì¤‘ë³µëœ ë…¸ë“œë¥¼ enqueue ì•ˆ í•  ìˆ˜ ìˆìŒ

### **DFSì™€ BFS visited ì²˜ë¦¬ ë¹„êµ**

# âœ… DFSì™€ BFSì˜ `visited` ì²˜ë¦¬ ì •ë¦¬

## 1. DFS (Depth-First Search)

ğŸ“ **ì²˜ë¦¬ ì‹œì **

- **ë…¸ë“œì— ë„ì°©í–ˆì„ ë•Œ(= í•¨ìˆ˜ ì§„ì… ì‹œì , pop ì‹œì )** `visited = true`

ğŸ“ **ì´ìœ **

- DFSëŠ” í•œ ê²½ë¡œë¥¼ ëê¹Œì§€ ë”°ë¼ ë‚´ë ¤ê°€ëŠ” ë°©ì‹ì´ê¸° ë•Œë¬¸ì—,
  ë…¸ë“œì— ë“¤ì–´ì˜¨ ìˆœê°„ â€œì´ë¯¸ ë°©ë¬¸í–ˆë‹¤â€ë¼ê³  í‘œì‹œí•´ì•¼ ë‹¤ì‹œ ì¬ê·€/ìŠ¤íƒìœ¼ë¡œ ë“¤ì–´ê°€ì§€ ì•ŠìŒ.
- ê²½ë¡œë¥¼ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì—ì„œ **ì¤‘ë³µ ì‚½ì… ë¬¸ì œê°€ ê±°ì˜ ì—†ìŒ** â†’ pop ì‹œì  ì²˜ë¦¬ë¡œ ì¶©ë¶„.

ğŸ“ **ì˜ˆì‹œ (ì¬ê·€)**

```jsx
function dfs(node) {
  visited[node] = true; // ì§„ì… ì‹œ ë°©ë¬¸ ì²˜ë¦¬
  for (let next of graph[node]) {
    if (!visited[next]) {
      dfs(next);
    }
  }
}
```

---

## 2. BFS (Breadth-First Search)

ğŸ“ **ì²˜ë¦¬ ì‹œì **

- **íì— ë„£ì„ ë•Œ(enqueue ì‹œì )** `visited = true`

ğŸ“ **ì´ìœ **

- BFSëŠ” ê°™ì€ ê±°ë¦¬(ë ˆë²¨)ì—ì„œ ì—¬ëŸ¬ ê²½ë¡œë¥¼ ë™ì‹œì— íƒìƒ‰í•©ë‹ˆë‹¤.
- ë§Œì•½ `visited`ë¥¼ **pop ì‹œì **ì— ì²˜ë¦¬í•˜ë©´, ê°™ì€ ë…¸ë“œê°€ ì—¬ëŸ¬ ê²½ë¡œì—ì„œ ë°œê²¬ë˜ì–´ **íì— ì¤‘ë³µìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ë¬¸ì œ**ê°€ ë°œìƒ.
- ë”°ë¼ì„œ ë°œê²¬(í ì‚½ì…) ìˆœê°„ ë°©ë¬¸ ì²´í¬ë¥¼ í•´ì„œ ì¤‘ë³µ ì‚½ì…ì„ ë°©ì§€í•˜ëŠ” ê²ƒì´ ì •ì„.

ğŸ“ **ì˜ˆì‹œ**

```jsx
function bfs(start) {
  let queue = [start];
  visited[start] = true; // enqueue ì‹œ ë°©ë¬¸ ì²˜ë¦¬

  while (queue.length) {
    let cur = queue.shift();
    for (let next of graph[cur]) {
      if (!visited[next]) {
        visited[next] = true; // íì— ë„£ê¸° ì „ì— ì²´í¬
        queue.push(next);
      }
    }
  }
}
```

---

# ğŸ“Œ ìµœì¢… ìš”ì•½

- **DFS â†’ pop(ë„ì°©/ì¬ê·€ ì§„ì…) ì‹œì ì— visited ì²˜ë¦¬**
  - ì¤‘ë³µ ì‚½ì… ë¬¸ì œ ì—†ìŒ â†’ ì§„ì… ì‹œ ì²˜ë¦¬ë¡œ ì¶©ë¶„.
- **BFS â†’ enqueue ì‹œì ì— visited ì²˜ë¦¬**
  - ì¤‘ë³µ ì‚½ì… ë°©ì§€ í•„ìš” â†’ íì— ë„£ì„ ë•Œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì •ì„.

---

ğŸ‘‰ ì¦‰,

- DFSëŠ” **â€œë„ì°©í–ˆì„ ë•Œ ë°©ë¬¸ ì²˜ë¦¬â€**
- BFSëŠ” **â€œíì— ë„£ì„ ë•Œ ë°©ë¬¸ ì²˜ë¦¬â€**

---

- ë””í…Œì¼
  ```tsx
  if (foodCandidates.length === 0) {
    continue;
  }
  foodCandidates.sort((a, b) => {
    if (a.row !== b.row) {
      return a.row - b.row;
    } else {
      return a.col - b.col;
    }
  });
  let nextFood = foodCandidates[0];
  field[nextFood.row][nextFood.col] = 0;
  foodCandidates = [];
  ```
  - ì •ë ¬í•´ì„œ ê°€ì¥ ì•ì— ì˜¤ëŠ” ê²ƒ ë³´ë‹¤ëŠ”
  - ìˆœê°„ìˆœê°„ì˜ ë¹„êµë¡œ ìµœì ì˜ ë¨¹ì‡ê°ì„ íŒë‹¨í•˜ë©´ ë¨
    1. best = null
    2. ë¨¹ì‡ê°ì´ë©´ bestë¥¼ ê°±ì‹ ì‹œí‚´
    3. ìµœì¢… í™•ì¸ì—ì„œ if(best)ë¡œ nullì—¬ë¶€ íŒŒì•…
    4. null ì•„ë‹ˆë©´(ë¨¹ì‡ê°ìˆìœ¼ë©´) ì´ë¯¸ ê°±ì‹ ëœ ë¨¹ì‡ê°ì„ ì²˜ë¦¬í•¨
  - ê°œì„ ëœ ë¡œì§ ìŠˆë„ì½”ë“œ
  ```tsx
  FUNCTION BFS_FIND_NEXT_FOOD(Q, size):
      visited â† nÃ—n false
      // ì‹œì‘ì  ë°©ë¬¸ ì²˜ë¦¬(íì˜ í˜„ì¬ front ê¸°ì¤€)
      (fr, fc) â† FRONT(Q)
      visited[fr][fc] â† true

      dist â† 0

      WHILE Q not empty:
          dist â† dist + 1
          level_size â† SIZE(Q)
          **best â† null**  // ê°™ì€ ê±°ë¦¬ì—ì„œ (row, col) ê°€ì¥ ì‘ì€ í›„ë³´ 1ê°œë§Œ ì¶”ì 

          REPEAT level_size times:
              (r, c) â† DEQUEUE(Q)

              FOR dir in [(âˆ’1,0),(0,âˆ’1),(0,1),(1,0)]:   // ìƒ,ì¢Œ,ìš°,í•˜(ê°€ë…ì„±)
                  nr â† r + dir.r
                  nc â† c + dir.c

                  IF out_of_bounds(nr, nc) OR visited[nr][nc]:
                      CONTINUE

                  cell â† field[nr][nc]

                  IF cell > size:          // í†µê³¼ ë¶ˆê°€
                      CONTINUE

                  visited[nr][nc] â† true   // â˜… enqueue/candidate ë“±ë¡ ì‹œì ì— ë°©ë¬¸ ì²˜ë¦¬

  								**//bestì— ê°±ì‹ ì‹œí‚´**
                  **IF 1 â‰¤ cell < size:      // ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸°
                      IF best == null OR (nr, nc) is lexicographically smaller than best:
                          best â† (nr, nc)

                  ELSE:                     // cell==0 or cell==size â†’ í†µê³¼ë§Œ ê°€ëŠ¥
                      ENQUEUE(Q, (nr, nc))**

          **// ì´ ê±°ë¦¬ì—ì„œ ë¨¹ì´ ë°œê²¬ëìœ¼ë©´ ìµœì  í›„ë³´ë¥¼ ì„­ì·¨**
          **IF best != null:**
              field[best.r][best.c] â† 0
              eat â† eat + 1
              IF eat == size:
                  size â† size + 1
                  eat â† 0
              time â† time + dist
              foods â† foods - 1
              RETURN best

      RETURN null   // ë” ì´ìƒ ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¬¼ê³ ê¸° ì—†ìŒ

  ```
